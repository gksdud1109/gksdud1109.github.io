---
title: "[JPA]ApplicationRunneríƒ€ì…"
date: 2025-08-26 09:00:00 +0900
categories: [Spring]
tags: [java, jpa, spring, backend]
---
## ApplicationsRunner íƒ€ì… ë¹ˆ ë“±ë¡

```java
package com.back.global.initData;

import org.springframework.boot.ApplicationRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class BaseInitData {

    @Bean
    ApplicationRunner initDataRunner() {
        return args -> {
            System.out.println("ì´ˆê¸° ë°ì´í„°ë¥¼ ë¡œë”©í•©ë‹ˆë‹¤.");
        };
    }

}
```

- ìƒê¹€ìƒˆëŠ” ê·¸ëƒ¥ ë°›ì•„ë“¤ì´ë©´ ë¨ ì´ë ‡ê²Œ ì“°ë¼ê³  ë˜ì–´ìˆìŒ.
- ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ëœ ì§í›„ ì‹¤í–‰ë˜ëŠ” ë¡œì§ì„ ì •ì˜í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŠ¹ë³„í•œ ì¸í„°í˜ì´ìŠ¤ì„

## ìŠ¤í”„ë§ ë¹ˆ(Bean)

> ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ìë°” ê°ì²´

ğŸ“Œ ì£¼ìš” íŠ¹ì§•

- @Component, @Service, @Repository, @Controller ë“±ì˜ ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ëŠ” ìë™ìœ¼ë¡œ ë¹ˆìœ¼ë¡œ ë“±ë¡
- ë¹ˆì€ Spring ì»¨í…Œì´ë„ˆ(ApplicationContext)ê°€ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•¨
- ì‹±ê¸€í†¤(singleton)ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ 
- ë‹¤ë¥¸ ë¹ˆì— ì˜ì¡´ì„± ì£¼ì…(DI) ìœ¼ë¡œ ì‰½ê²Œ ì—°ê²° ê°€ëŠ¥

### ë¹ˆ ë“±ë¡ ë°©ë²•

1. ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©(ê°€ì¥ ì¼ë°˜ì )

```java
@Component     // ì¼ë°˜ ì»´í¬ë„ŒíŠ¸
@Service       // ì„œë¹„ìŠ¤ ê³„ì¸µ
@Repository    // DAO, DB ê´€ë ¨ ê³„ì¸µ
@Controller    // MVC ì»¨íŠ¸ë¡¤ëŸ¬
@Configuration // ì„¤ì • í´ë˜ìŠ¤
```

2. ìë°” ì„¤ì • í´ë˜ìŠ¤(@Configuration + @Bean)

```java
@Configuration
public class AppConfig {

    @Bean
    public MyBean myBean() {
        return new MyBean();
    }
}
```

3. XML ì„¤ì • ë°©ì‹ë„ ìˆìœ¼ë‚˜ êµ¬ì‹ ë°©ì‹ì„

### ë¹ˆ ì‚¬ìš© ë°©ë²•(ì˜ì¡´ì„± ì£¼ì…)

1. ìƒì„±ì ì£¼ì… (ê¶Œì¥ë˜ëŠ” ë°©ì‹)

```java
@Component
public class ServiceA {
    private final MyBean myBean;

    public ServiceA(MyBean myBean) {
        this.myBean = myBean;
    }
}
```

> ìƒì„±ìê°€ ë‹¨ í•˜ë‚˜ë§Œ ì¡´ì¬í•œë‹¤ë©´, @Autowired ì–´ë…¸í…Œì´ì…˜ì„ ìƒëµí•´ë„ ìŠ¤í”„ë§ì´ ìë™ ì£¼ì… </br>
> ìŠ¤í”„ë§ 4.3 ì´ìƒì—ì„œ ê°€ëŠ¥í•œ ê¸°ëŠ¥ì„. ì¤‘ë³µ ì½”ë“œ ì¤„ì´ê³ , ì½”ë“œ ê°€ë…ì„±ì„ ìœ„í•´ ë„ì…ë˜ì—ˆìŒ.

2. í•„ë“œ ì£¼ì…

```java
@Component
public class ServiceB {
    @Autowired
    private MyBean myBean;
}
```

### ApplicationContext

- ëª¨ë“  ë¹ˆì€ ApplicationContextì— ë“±ë¡ë˜ë©°, context.getBean()ìœ¼ë¡œ ì§ì ‘ êº¼ë‚¼ ìˆ˜ë„ ìˆìŒ.
- í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” @MockBeanì´ë‚˜ @TestConfiguration ë“±ì„ ì‚¬ìš©í•´ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥.
- ë¹ˆì˜ ìŠ¤ì½”í”„(scope)ë„ ì¡°ì • ê°€ëŠ¥ (singleton, prototype, request, session, â€¦)

### ë¹ˆ ìŠ¤ì½”í”„, ìŠ¤í”„ë§ ë¹ˆ ìƒëª…ì£¼ê¸°ëŠ” ì¶”í›„ì— ê¹Šê²Œ...

## ApplicationRunner ë¹ˆ

> ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì™„ì „íˆ ì‹œì‘ëœ ì§í›„ ì‹¤í–‰ë˜ëŠ” íŠ¹ë³„í•œ íƒ€ì…ì˜ ë¹ˆ

ğŸ“Œ ì£¼ìš” íŠ¹ì§•

- run(ApplicationArguments args) ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ì‹¤í–‰ ë¡œì§ ì‘ì„±
- ì´ˆê¸° ë°ì´í„° ì„¸íŒ…, ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ê²°, ìºì‹œ ë¡œë”© ë“±ì„ í•  ë•Œ ìœ ìš©
- ì—¬ëŸ¬ ê°œ ë“±ë¡ ê°€ëŠ¥í•˜ë©°, @Order ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì‹¤í–‰ ìˆœì„œ ì§€ì • ê°€ëŠ¥
- CommandLineRunnerì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ApplicationArgumentsë¥¼ í†µí•´ ì´ë¦„ ê¸°ë°˜ CLI ì¸ì ì²˜ë¦¬ ê°€ëŠ¥

### ApplicationsRunner ì¸í„°í˜ì´ìŠ¤ ì •ì˜

```java
@FunctionalInterface
public interface ApplicationRunner extends Runner {

	/**
	 * Callback used to run the bean.
	 * @param args incoming application arguments
	 * @throws Exception on error
	 */
	void run(ApplicationArguments args) throws Exception;

}
```

- ApplicationsArgumentsë¥¼ í†µí•´ ì´ë¦„ ê¸°ë°˜ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ ë” ì •êµí•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆìŒ
- ìš©ë„:

  - ìƒ˜í”Œ ìœ ì €/ê²Œì‹œê¸€ ì‚½ì… ë“±ì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì´ˆê¸°í™”
  - ë””ë²„ê¹…ìš© ë¡œê·¸ ì¶œë ¥, ìºì‹œ ì´ˆê¸°í™” ë“± ë¡œì»¬ ê¸°ë°˜ ì „ìš© ì„¸íŒ…
  - ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ì§í›„ ë°°ì¹˜ íŠ¸ë¦¬ê±°

- @SpringBootApplication -> main() -> ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” -> ApplicationRunner.run() ìˆœì„œë¡œ ì‹¤í–‰ë¨
- ì„œë²„ê°€ ì™„ì „íˆ ëœ¨ê³  ë‚œ í›„ì— ë™ì‘í•œë‹¤
- ë¹„ìŠ·í•œ ê¸°ëŠ¥í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ @CommandLineRunnerê°€ ìˆìŒ -> argsë¥¼ Stringë°°ì—´ë¡œë§Œ ë°›ì•„ ë” ë‹¨ìˆœí•œ ìš©ë„ì— ì í•©í•¨

### @Order ì‚¬ìš© ì˜ˆ

```java
@Component
@Order(1)
public class RunnerA implements ApplicationRunner {
    @Override
    public void run(ApplicationArguments args) {
        System.out.println("RunnerA ì‹¤í–‰ (Order 1)");
    }
}
```

```java
@Component
@Order(2)
public class RunnerB implements ApplicationRunner {
    @Override
    public void run(ApplicationArguments args) {
        System.out.println("RunnerB ì‹¤í–‰ (Order 2)");
    }
}
```

```console
RunnerA ì‹¤í–‰ (Order 1)
RunnerB ì‹¤í–‰ (Order 2)
```

- ìˆœì„œì œì–´ëŠ” Beanìœ¼ë¡œ ë“±ë¡ëœ ê²½ìš°ì—ë§Œ ì˜ë¯¸ê°€ ìˆìŒ
- @OrderëŠ” ApplicationsRunner, CommandLineRunner ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥
