---
title: "[Kotlin#2] ì½”í‹€ë¦° ê¶ê¸ˆí•œ ì  & ê¸°ì´ˆë¬¸ë²• ì •ë¦¬"
date: 2025-11-04 09:00:00 +0900
categories: [Kotlin]
tags: [programming, kotlin]
---
# ì½”í‹€ë¦°ì˜ null-safe / ê°„ê²°í•¨ ê´€ë ¨ ë¬¸ë²•ë“¤ì„ í•œëˆˆì— ì •ë¦¬

ì•„ë˜ í‘œëŠ” ?. ì™€ ?: (ì—˜ë¹„ìŠ¤) ê°™ì€ ë¬¸ë²•ê³¼, ê·¸ â€œíŒ¨ë°€ë¦¬ ë¬¸ë²•ë“¤â€ê¹Œì§€ ì „ë¶€ ì •ë¦¬í•œ ê±°ì„ğŸ‘‡


## ğŸŒŸ Kotlinì˜ í•µì‹¬ ë¬¸ë²• ì´ì •ë¦¬

| ë¬¸ë²• | ì´ë¦„ | ì˜ë¯¸ / ì‚¬ìš© ì˜ˆì‹œ | ë¹„ê³  |
|:---|:---|:---|:---|
|?. |Safe Call (ì„¸ì´í”„ ì½œ) |user?.name â†’ userê°€ nullì´ë©´ null ë°˜í™˜ | null ì•ˆì „í•˜ê²Œ í”„ë¡œí¼í‹° ì ‘ê·¼ |
|?: | Elvis ì—°ì‚°ì | name ?: "ì´ë¦„ì—†ìŒ" â†’ nameì´ nullì´ë©´ "ì´ë¦„ì—†ìŒ" | null ì‹œ ê¸°ë³¸ê°’ ì§€ì • |
| !! | Non-null ë‹¨ì–¸| user!!.name â†’ nullì´ë©´ NPE| ê°€ëŠ¥í•œ í•œ ì“°ì§€ ë§ê¸° |
| ?.let { ... } | ë„ ì•„ë‹ ë•Œë§Œ ì‹¤í–‰ | user?.let { println(it.name) } | nullì´ë©´ ì‹¤í–‰ ì•ˆ í•¨|
|?: return / ?: throw | ì—˜ë¹„ìŠ¤ + íë¦„ ì œì–´ |val x = user ?: return / ?: throw Error() | nullì´ë©´ ë°”ë¡œ ë¦¬í„´/ì˜ˆì™¸ |
| if (a is Type) | ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸ | if (obj is String) println(obj.length) | íƒ€ì… ê²€ì‚¬ í›„ ìë™ ìºìŠ¤íŒ… |
| as? | ì•ˆì „í•œ ìºìŠ¤íŒ… | val s = obj as? String â†’ ì‹¤íŒ¨ ì‹œ null | ClassCastException ë°©ì§€ |
| runCatching {} |ì˜ˆì™¸ í¬ì°© ë¸”ë¡ | runCatching { risky() }.getOrNull() | try-catch ëŒ€ì‹  |
| let | ì»¨í…ìŠ¤íŠ¸ í•¨ìˆ˜ (scope) | x.let { it + 1 } | ë¸”ë¡ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜ |
| also | ë¶€ìˆ˜íš¨ê³¼ìš© (logging ë“±) | x.also { println(it) } |ì›ë³¸ ê°ì²´ ë°˜í™˜ |
| apply | ê°ì²´ ì´ˆê¸°í™” | User().apply { name="A" } | ìê¸° ìì‹ ì„ ë°˜í™˜ |
| run | ì¦‰ì‹œ ì‹¤í–‰ ë¸”ë¡ | run { val x=1; x+2 } | ì§€ì—­ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê²°ê³¼ ë°˜í™˜ |
| with(obj) | ìˆ˜ì‹ ê°ì²´ ë‹¨ì¶• | with(user){ println(name) } |ìˆ˜ì‹ ê°ì²´ ë°˜ë³µ ì œê±° |
| takeIf {} | ì¡°ê±´ì´ trueë©´ ê°ì²´ ìœ ì§€ | val adult = person.takeIf { it.age >= 20 } | falseë©´ null ë°˜í™˜
|takeUnless {} | ì¡°ê±´ì´ falseë©´ ê°ì²´ ìœ ì§€ | val minor = person.takeUnless { it.age >= 20 }| trueë©´ null ë°˜í™˜ |
| when | switch ëŒ€ì²´ | when(x){ 1->"one"; else->"etc" } |í‘œí˜„ì‹ì´ë¼ ê°’ ë°˜í™˜ ê°€ëŠ¥ |
| in / !in | í¬í•¨ ê²€ì‚¬ | if (x in list) | contains() í˜¸ì¶œ ëŒ€ì²´ |
| is / !is | íƒ€ì… ê²€ì‚¬ | if (obj is String) | instanceof ëŒ€ì²´
| :: | ì°¸ì¡° ì—°ì‚°ì | ::println / User::class | í•¨ìˆ˜, í”„ë¡œí¼í‹°, í´ë˜ìŠ¤ ì°¸ì¡° |
| ?.::method | nullable í•¨ìˆ˜ ì°¸ì¡° | obj?.::doWork | ì•ˆì „í•œ í•¨ìˆ˜ ì°¸ì¡° |
| val a by lazy { ... } | ì§€ì—° ì´ˆê¸°í™” | ì²˜ìŒ ì ‘ê·¼ ì‹œì—ë§Œ ë¸”ë¡ ì‹¤í–‰ | ë¶ˆë³€ lazy ê°’|
|lateinit var | ì§€ì—° ì£¼ì… ë³€ìˆ˜ | DI, í…ŒìŠ¤íŠ¸ìš© ë“± | null ì•„ë‹˜ ë‹¨ì–¸í•´ì•¼|
|ifExpression | if ìì²´ê°€ ê°’| val x = if(a>0) 1 else -1 | ìë°”ì—” ì—†ìŒ|
|tryExpression |tryë„ ê°’ | val x = try { risky() } catch(e:..) { null } | try ê²°ê³¼ ë°˜í™˜ |


## ğŸ” Null ì²˜ë¦¬ / ì•ˆì „ í˜¸ì¶œ ê´€ë ¨ ë¬¸ë²•ë§Œ ë”°ë¡œ ë³´ê¸°

| íŒ¨í„´ | ì˜ˆì‹œ | ì„¤ëª… |
|:----|:----|:----|
| ì•ˆì „ í˜¸ì¶œ |a?.b | aê°€ nullì´ë©´ null ë°˜í™˜ |
| ì—˜ë¹„ìŠ¤ ê¸°ë³¸ê°’ | a ?: default | nullì´ë©´ default ë°˜í™˜ |
|ì•ˆì „ ì‹¤í–‰ | a?.let { ... } | null ì•„ë‹ ë•Œë§Œ ì‹¤í–‰ |
|ì•ˆì „ ìºìŠ¤íŒ… | a as? Type | íƒ€ì… ì•ˆ ë§ìœ¼ë©´ null |
|ì¡°ê±´ ìœ ì§€ | a.takeIf { it > 0 } | ì¡°ê±´ falseë©´ null|
|ì¡°ê±´ ë°˜ì „ ìœ ì§€ | a.takeUnless { it > 0 } | ì¡°ê±´ trueë©´ null
|null ê°•ì œ ì œê±° | a!! | nullì´ë©´ NPE ë°œìƒ |
|ë„ ì²´í¬ í•¨ìˆ˜ | isNullOrEmpty(), isNullOrBlank() | nullê³¼ ë¹ˆ ë¬¸ìì—´ì„ ë™ì‹œì— ê²€ì‚¬ |


## ğŸ’ ìŠ¤ì½”í”„ í•¨ìˆ˜ë“¤ ì •ë¦¬ (let / also / run / apply / with)

|í•¨ìˆ˜ | ë°˜í™˜ê°’ | ì£¼ ìš©ë„ | ì½”ë“œ ì˜ˆì‹œ |
|:---|:---|:---|:---|
|let | ë¸”ë¡ì˜ ê²°ê³¼ê°’ | ë³€í™˜ / ì²´ì´ë‹ | x?.let { it + 1 } |
|also | ìê¸° ìì‹  | ë¶€ìˆ˜íš¨ê³¼ (ë¡œê·¸) | x.also { println(it) } |
| run | ë¸”ë¡ì˜ ê²°ê³¼ê°’ | ì„ì‹œ ë³€ìˆ˜ ì—†ì´ ì½”ë“œ ë¬¶ê¸° | run { val y=1; y+2 } |
|apply | ìê¸° ìì‹  | ê°ì²´ ì´ˆê¸°í™” | User().apply { name="A" } |
| with | ë¸”ë¡ì˜ ê²°ê³¼ê°’ | ìˆ˜ì‹ ê°ì²´ ì§€ì • ë¸”ë¡ | with(user){ name.uppercase() } |

## ğŸš€ ì‹¤ì „ ì˜ˆì‹œ

```kotlin
val redirectUrl = request.getParameter("state")
    ?.takeIf { it.isNotBlank() }                // null ë˜ëŠ” ê³µë°±ì´ë©´ ì¤‘ë‹¨
    ?.let { Base64.getUrlDecoder().decode(it) } // null ì•„ë‹ˆë©´ decode
    ?.toString(Charsets.UTF_8)
    ?.split("#")
    ?.getOrNull(1)
    ?: "/"                                     // ëª¨ë“  ê²Œ ì‹¤íŒ¨í•˜ë©´ ê¸°ë³¸ê°’
```

# ğŸ¯ ìš”ì•½
-	ì½”í‹€ë¦°ì€ â€œnullì„ ì½”ë“œë¡œ ê´€ë¦¬í•˜ëŠ” ì–¸ì–´â€ë‹¤.
-	?., ?:, let, run, apply, takeIf, as? ì´ ì—¬ì„¯ ê°€ì§€ë§Œ ìµíˆë©´
ìë°”ì˜ if/try-catch 10ì¤„ì´ ì½”í‹€ë¦°ì—ì„  1ì¤„ë¡œ ê°€ëŠ¥.
-	ëª¨ë“  í‘œí˜„ì‹ì´ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤ëŠ” ì (if, when, try)ë„ ìë°”ì™€ì˜ í° ì°¨ì´.
