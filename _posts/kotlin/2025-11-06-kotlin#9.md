---
title: "[Kotlin#9] ì½”í‹€ë¦° í•µì‹¬ ë¬¸ë²•ì •ë¦¬-2"
date: 2025-11-06 09:00:00 +0900
categories: [Kotlin]
tags: [programming, kotlin]
---
# 13. ì˜ˆì™¸ ì²˜ë¦¬

```kotlin
try {
    risky()
} catch (e: Exception) {
    println(e.message)
}
```

## ğŸ“˜ Javaì™€ ë¹„êµ
- Kotlinì—ëŠ” checked exceptionì´ ì—†ìŒ <br>
â†’ `throws IOException` ê°™ì€ ì„ ì–¸ ë¶ˆí•„ìš”<br>
â†’ `try-catch`ëŠ” ì„ íƒì  ì‚¬ìš©

| Java | Kotlin |
|:---|:---|
|throws IOException ê°•ì œ ëª…ì‹œ | ì˜ˆì™¸ ì„ ì–¸ ë¶ˆí•„ìš” |
|Checked / Unchecked êµ¬ë¶„ ì¡´ì¬ | ëª¨ë“  ì˜ˆì™¸ Unchecked ì·¨ê¸‰ |
|try-catch í•„ìˆ˜ | í•„ìš” ì‹œì—ë§Œ ì‚¬ìš© |

> ğŸ’¡ í™œìš© íŒ
>```kotlin
>val result = runCatching {
>    riskyOperation()
>}.onFailure {
>    logger.error("Error: ${it.message}")
>}.getOrNull()
>```
>â†’ runCatching, onFailure, getOrNull ë“±ìœ¼ë¡œ
>try-catchë³´ë‹¤ ê°„ê²°í•˜ê³  í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥

## ì˜ˆì™¸ ì²˜ë¦¬ â€” runCatching, onFailure, getOrNull

### ğŸ“ê¸°ë³¸í˜• ì˜ˆì‹œ
```kotlin
val result = runCatching {
    // ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥ ì½”ë“œ
    val value = riskyOperation()
    "ê²°ê³¼: $value"
}.onFailure { e ->
    println("ì—ëŸ¬ ë°œìƒ: ${e.message}")
}.getOrNull()

println(result)
```

### ğŸ“ì‹¤ì œ ì‹¤í–‰ íë¦„
1.	riskyOperation() ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´
â†’ onFailure ë¸”ë¡ìœ¼ë¡œ ì´ë™ (e.message ì¶œë ¥)
2.	ì´í›„ getOrNull()ì€ null ë°˜í™˜

### ğŸ“˜ Java ëŒ€ì‘
```java
String result = null;
try {
    String value = riskyOperation();
    result = "ê²°ê³¼: " + value;
} catch (Exception e) {
    System.out.println("ì—ëŸ¬ ë°œìƒ: " + e.getMessage());
}
System.out.println(result);
```

> ğŸ’¡ í™œìš© íŒ
>```kotlin
>val jwt = runCatching {
>    JwtUtil.generateToken(user)
>}.getOrElse {
>    logger.error("JWT ìƒì„± ì‹¤íŒ¨: ${it.message}")
>    null
>}
>```
>â†’ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•Šê³  ë¡œê¹… í›„ graceful fallback ê°€ëŠ¥

<hr>

# 14. ìŠ¤ì½”í”„ í•¨ìˆ˜

| í•¨ìˆ˜ | ë¦¬í„´ê°’ | ìˆ˜ì‹  ê°ì²´ | ì‚¬ìš© ëª©ì  |
|:---|:---|:---|:---|
|apply|ê°ì²´ ìì²´ | this | ì´ˆê¸°í™”ìš© |
|let | ë¸”ë¡ ê²°ê³¼ | it | null-safe ë³€í™˜ |
|also | ê°ì²´ ìì²´ | it | ë¡œê¹…, ë¶€ìˆ˜íš¨ê³¼ |
|run | ë¸”ë¡ ê²°ê³¼ | this | ê³„ì‚°, ì¼íšŒì„± ì²˜ë¦¬ |
|with | ë¸”ë¡ ê²°ê³¼ | this | ì—¬ëŸ¬ ì†ì„± ë‹¤ë£¨ê¸° |


## ğŸ“ì˜ˆì œ

```kotlin
val person = Person().apply {
    name = "Alice"
    age = 30
}.also {
    println("Created: ${it.name}")
}
```

## ğŸ“ í•µì‹¬ ì´í•´ í¬ì¸íŠ¸
-	ê³µí†µì : ê°ì²´ë¥¼ ë°›ì•„ì„œ ì½”ë“œ ë¸”ë¡ ë‚´ì—ì„œ this/itìœ¼ë¡œ ì ‘ê·¼
-	ì°¨ì´ì : ë¦¬í„´ ê°’ì´ ë‹¤ë¥´ë‹¤ (ê°ì²´ or ê²°ê³¼)

## ğŸ“˜ Javaì™€ ë¹„êµ

|Java | Kotlin |
|:---|:---|
|Builder íŒ¨í„´ or ë©”ì„œë“œ ì²´ì´ë‹ í•„ìš” | applyë¡œ ì´ˆê¸°í™” í•œ ë²ˆì— |
|if (obj != null) { â€¦ } | obj?.let { â€¦ } |
|ë¡œê·¸ìš© print(obj) í›„ ë¦¬í„´ | obj.also { println(it) } |

> ğŸ’¡ í™œìš© íŒ
> ```kotlin
> val user = userRepository.findByIdOrNull(id)?.let {
>     it.lastLogin = LocalDateTime.now()
>     it
> } ?: throw NotFoundException("User not found")
> ```

<hr>

## apply â€” ì´ˆê¸°í™”(Builder íŒ¨í„´ ëŒ€ì²´)

```kotlin
val person = Person().apply {
    name = "Alice"
    age = 30
}
```

### ğŸ“˜ Java ëŒ€ì‘
```java
Person person = new Person();
person.setName("Alice");
person.setAge(30);
```
â¡ ë˜ëŠ” ë¹Œë”íŒ¨í„´ìœ¼ë¡œ ì“°ë©´
```java
Person person = new PersonBuilder()
        .name("Alice")
        .age(30)
        .build();
```
>ğŸ’¡ ìš”ì•½
>
>applyëŠ” this ì»¨í…ìŠ¤íŠ¸ë¡œ ì ‘ê·¼í•˜ê³  ê°ì²´ ìì‹ ì„ ë¦¬í„´,
>ì¦‰, â€œë¹Œë” íŒ¨í„´ ì—†ì´ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” + ë°˜í™˜â€ê¹Œì§€ í•œ ë²ˆì—í•¨

## let â€” null-safe ë³€í™˜ / ì²´ì´ë‹

```kotlin
val name: String? = "Alice"
name?.let { println("Length: ${it.length}") }
```
### ğŸ“˜ Java ëŒ€ì‘
```java
String name = "Alice";
if (name != null) {
    System.out.println("Length: " + name.length());
}
```
>ğŸ’¡ ìš”ì•½
>
>letì€ â€œnull ì²´í¬ + ì•ˆì „í•œ ì‚¬ìš©â€ì„ ë™ì‹œì— ìˆ˜í–‰.
>ì‚¼í•­ì—°ì‚°ìë‚˜ Optionalì˜ ifPresent()ë³´ë‹¤ ê°„ê²°.

## also â€” ë¶€ìˆ˜íš¨ê³¼(side-effect), ë¡œê¹…ìš©

```kotlin
val user = User("Alice").also {
    println("Created user: ${it.name}")
}
```

### ğŸ“˜ Java ëŒ€ì‘
```java
User user = new User("Alice");
System.out.println("Created user: " + user.getName());
```
>ğŸ’¡ ìš”ì•½
>
>alsoëŠ” ê°ì²´ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ë©´ì„œ, ë””ë²„ê¹…, ë¡œê¹…, í†µê³„ ì¹´ìš´íŠ¸ ë“±
>â€œê°ì²´ëŠ” ê·¸ëŒ€ë¡œ, ì¤‘ê°„ ì²˜ë¦¬ë§Œâ€ í•˜ëŠ” ë°ì— ìµœì í™”


## run â€” ê³„ì‚°/ì„ì‹œ ë¸”ë¡ (ì§€ì—­ ë²”ìœ„)
```kotlin
val length = "Hello".run {
    println("Calculating length...")
    length
}
```

### ğŸ“˜ Java ëŒ€ì‘
```java
String str = "Hello";
System.out.println("Calculating length...");
int length = str.length();
```

>ğŸ’¡ ìš”ì•½
>
>runì€ thisë¡œ ìˆ˜ì‹ ê°ì²´ë¥¼ ë‹¤ë£¨ê³ , ë¸”ë¡ ê²°ê³¼ë¥¼ ë°˜í™˜.
>í•œ ê°ì²´ì— ëŒ€í•´ â€œì—¬ëŸ¬ ì—°ì‚°ì„ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ë¦¬í„´â€í•  ë•Œ ìœ ìš©.

## with â€” ì—¬ëŸ¬ ì†ì„± ì¡°ì‘ (ë™ì¼ ê°ì²´ì— ì—°ì† ì‘ì—…)
```kotlin
with(person) {
    name = "Alice"
    age = 30
    println("$name is $age years old")
}
```

### ğŸ“˜ Java ëŒ€ì‘
```java
Person person = new Person();
person.setName("Alice");
person.setAge(30);
System.out.println(person.getName() + " is " + person.getAge() + " years old");
```
>ğŸ’¡ ìš”ì•½
>
>with(obj)ëŠ” â€œobj.â€ ë°˜ë³µì„ ì¤„ì´ëŠ” ë¬¸ë²•.
>ë™ì¼ ê°ì²´ì— ì—°ì† ì ‘ê·¼í•  ë•Œ ì½”ë“œê°€ ê¹”ë”í•´ì§

## ğŸ“˜ ì •ë¦¬

í•¨ìˆ˜	Java ì œì–´ êµ¬ì¡° ëŒ€ì‘	Kotlin ì‚¬ìš© ì˜ë„

- `apply`:	Builder íŒ¨í„´, setter ì²´ì´ë‹	ì´ˆê¸°í™” & ë°˜í™˜
- `let`:	null check + ifë¬¸	ì•ˆì „ í˜¸ì¶œ, ë³€í™˜
- `also`:	print/log ì¤‘ê°„ì²˜ë¦¬	ë¶€ìˆ˜íš¨ê³¼ìš©
- `run`:	ì§€ì—­ ë³€ìˆ˜ ì—°ì‚°	ê³„ì‚° ê²°ê³¼ ë°˜í™˜
- `with`:	ë™ì¼ ê°ì²´ ë°˜ë³µ ì ‘ê·¼	ë‹¤ì¤‘ ì†ì„± ì„¤ì •

<hr>

# 15. lateinit & lazy

## ğŸ“lateinit

```kotlin
lateinit var name: String
name = "Alice"
println(name)
```
-	varë§Œ ê°€ëŠ¥, null í—ˆìš© X
-	ë‚˜ì¤‘ì— ì´ˆê¸°í™”

### ğŸ“˜ Javaì™€ ë¹„êµ

| Java | Kotlin |
|`private String name; â†’ ë‚˜ì¤‘ì— set`| `lateinit var name: String`|
|null ë°©ì–´ëŠ” ì§ì ‘ í•´ì•¼ í•¨ | ì»´íŒŒì¼ëŸ¬ê°€ ì´ˆê¸°í™” ì—¬ë¶€ ì¶”ì  |

>ğŸ’¡ í™œìš© íŒ
>
>-	Springì—ì„œ `@Autowired lateinit var service: MyService`
>-	í…ŒìŠ¤íŠ¸ì—ì„œ mock ì£¼ì… ì‹œ í™œìš©


## ğŸ“lazy

```kotlin
val msg: String by lazy {
    println("init")
    "Hello"
}
println(msg)
println(msg)
```

### ğŸ“ ë™ì‘ ìˆœì„œ ì„¤ëª…
1.	val msg ì •ì˜ ì‹œì ì—ëŠ” ì´ˆê¸°í™” ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
2.	ì²˜ìŒ msgë¥¼ ì½ëŠ” ìˆœê°„
  -	lazy ë¸”ë¡ì´ ì‹¤í–‰ë˜ê³  "init" ì¶œë ¥
  -	"Hello"ê°€ í‰ê°€ë˜ì–´ msgì— ì €ì¥
3.	ë‘ ë²ˆì§¸ msg ì ‘ê·¼ ì‹œ
  -	ì´ë¯¸ ì´ˆê¸°í™” ì™„ë£Œ â†’ ë¸”ë¡ ì‹¤í–‰ X
  -	ìºì‹œëœ "Hello" ê·¸ëŒ€ë¡œ ë°˜í™˜


### ğŸ“˜ Javaë¡œ í‘œí˜„í•˜ë©´

```java
private String msg;

public String getMsg() {
    if (msg == null) {
        System.out.println("init");
        msg = "Hello";
    }
    return msg;
}
```

> ğŸ’¡ í™œìš© íŒ
> -	ë¬´ê±°ìš´ ê°ì²´(DB ì—°ê²°, ì„¤ì • íŒŒì¼ ë“±) ì´ˆê¸°í™” ì‹œì  ì§€ì—°
> -	â€œë¡œê·¸ì¸ í›„ ìƒì„±ë˜ëŠ” ê°ì²´â€ ë“±ì— ì í•©

<hr>

# 16. companion object (ì •ì  ë©¤ë²„)

```kotlin
class MathUtil {
    companion object {
        val PI = 3.14
        fun square(n: Int) = n * n
    }
}
println(MathUtil.PI)
println(MathUtil.square(4))

```

## ğŸ“˜ í•µì‹¬ ê°œë…
-	companion objectëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ì— ì„ ì–¸ëœ ìœ ì¼í•œ ì •ì  ê°ì²´
-	Javaì˜ staticê³¼ ìœ ì‚¬í•˜ì§€ë§Œ, ê°ì²´ì²˜ëŸ¼ ë‹¤ë£¸
-	í´ë˜ìŠ¤ ë¡œë“œ ì‹œì ì— ìë™ ì´ˆê¸°í™”ë˜ë©° thread-safe

> ğŸ’¡ í™œìš© íŒ
>```kotlin
>class JwtUtil {
>    companion object {
>        fun generate(userId: Long): String = ...
>    }
>}
>JwtUtil.generate(1L)
>```
>â†’ Spring Beanì„ ì“°ì§€ ì•ŠëŠ” ìœ í‹¸ë¦¬í‹°, ìƒìˆ˜, íŒ©í† ë¦¬ ë©”ì„œë“œ ë“±ì— ìì£¼ ì‚¬ìš©

<hr>

# 17. open / override (ìƒì† í—ˆìš©)

```kotlin
open class Animal {
    open fun sound() = println("Some sound")
}
class Dog : Animal() {
    override fun sound() = println("Bark")
}
```
## ğŸ“˜ í•µì‹¬ ê°œë…
-	Kotlinì˜ í´ë˜ìŠ¤ì™€ í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ final
-	ìƒì†ê³¼ ì˜¤ë²„ë¼ì´ë“œë¥¼ í—ˆìš©í•˜ë ¤ë©´ ëª…ì‹œì ìœ¼ë¡œ open ì¶”ê°€
-	override ì‹œ ë°˜ë“œì‹œ override í‚¤ì›Œë“œ í•„ìš” (ì»´íŒŒì¼ëŸ¬ ê°•ì œ)

> ğŸ’¡ í™œìš© íŒ
>-	BaseEntity, AbstractService ë“± ê³µí†µ ë¡œì§ í´ë˜ìŠ¤ëŠ” ë°˜ë“œì‹œ open classë¡œ ì„ ì–¸í•´ì•¼ í•¨
>-	Spring JPA Entity í´ë˜ìŠ¤ëŠ” open í•„ìš” (í”„ë¡ì‹œ ì‚¬ìš©ì„ ìœ„í•´)

# 18. Getter / Setter

`class Person(var name: String)`

â†’ ìë™ìœ¼ë¡œ `getName()` / `setName()` ìƒì„±ë¨

## ğŸ“ì»¤ìŠ¤í…€ Getter/Setter

```kotlin
class Person(private var _name: String) {
    var name: String
        get() = if (_name.isEmpty()) "noname" else _name
        set(value) {
            _name = if (value.isEmpty()) "noname" else value
        }
}
```

# 19. ìƒì„±ì

## ğŸ“ì£¼ ìƒì„±ì

```kotlin
class Person(val name: String, val age: Int)
```
â†’ íŒŒë¼ë¯¸í„°ë¥¼ ì§ì ‘ í”„ë¡œí¼í‹°ë¡œ ì„ ì–¸ ê°€ëŠ¥
â†’ val / var ë¶™ì´ë©´ ìë™ìœ¼ë¡œ í•„ë“œ + getter/setter ìƒì„±

## ğŸ“ init ë¸”ë¡

```kotlin
class Person(val name: String) {
    init { println("$name ìƒì„±ë¨") }
}
```
â†’ ìƒì„± ì‹œì ì— ì‹¤í–‰ë˜ëŠ” ì´ˆê¸°í™” ë¸”ë¡

## ğŸ“ ë¶€ ìƒì„±ì 

```kotlin
class Person(val name: String, val age: Int) {
    constructor(name: String): this(name, 0)
}
```
â†’ ì£¼ ìƒì„±ì í˜¸ì¶œ í•„ìˆ˜ (: this(...))

## ğŸ“˜ Java ëŒ€ì‘
```java
class Person {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
        System.out.println(name + " ìƒì„±ë¨");
    }

    public Person(String name) {
        this(name, 0);
    }
}
```

<hr>

# 20. ì»¬ë ‰ì…˜ ê³ ê¸‰ ë¬¸ë²•

```kotlin
val nums = listOf(1,2,3,4,5,6)
val even = nums.filter { it % 2 == 0 }
val doubled = nums.map { it * 2 }
```

## ğŸ“˜ Javaì™€ ë¹„êµ

| Java | Kotlin |
|:---|:---|
|Stream í•„ìš” | ì»¬ë ‰ì…˜ ê¸°ë³¸ ì œê³µ |
|`.stream().filter(...).map(...).collect()`| `.filter {...}.map {...}`|
|Optional ë³‘í•© ë¶ˆí¸ | í•¨ìˆ˜í˜• ì¡°í•©ì´ ê°„ê²° |

> ğŸ’¡ í™œìš© íŒ
>```kotlin
>val topUsers = users.filter { it.score > 80 }.sortedByDescending { it.score }
>```
>â†’ API ì‘ë‹µ ì „ ë°ì´í„° í›„ì²˜ë¦¬ ì‹œ íŒ¨í„´

<hr>

# 21. íƒ€ì… ì²´í¬ (is / as)

```kotlin
val obj: Any = "Hello"
if (obj is String) println(obj.length)
```

â†’ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸ (ìë™ í˜•ë³€í™˜)

<hr>

# 22. private val: ì½ê¸° ì „ìš©

```kotlin
class Person(val name: String)
val p = Person("Alice")
println(p.name)
```
-	val â†’ read-only (getterë§Œ ìƒì„±)
-	var â†’ read-write (getter + setter ìƒì„±)
-	ë‚´ë¶€ì ìœ¼ë¡œ private final + getName() êµ¬ì¡°ë¡œ ì»´íŒŒì¼ë¨