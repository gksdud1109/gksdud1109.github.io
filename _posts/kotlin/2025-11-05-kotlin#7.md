---
title: "[Kotlin#7] 코틀린 궁금한 점 & 기초문법 정리"
date: 2025-11-05 09:00:00 +0900
categories: [Kotlin]
tags: [programming, kotlin]
---
# 리팩터링 진행 중 바꾼 코드

```kotlin
@Aspect
@Component
class ResponseAspect(
    private val response: HttpServletResponse
) {
    @Around(
        """
        (...에스팩트 표현식)
            """
    )
    fun responseAspect(joinPoint: ProceedingJoinPoint): Any {
        val rst = joinPoint.proceed() // 실제 수행 메서드

        if (rst is RsData<*>) {
            response.status = rst.statusCode
        }
        return rst
    }
}
```

# 궁금한점: `response.status`는 읽기 전용 아닌가? 수정 가능한 이유

## val은 “읽기 전용 프로퍼티” 맞음.

```kotlin
val x = 10
x = 20 // ❌ 불가능
```

그런데 이건 Kotlin이 소유한 프로퍼티에 한해서만이고,
response는 **Spring이 주입해준 HttpServletResponse 객체 (Java 클래스)** 임!!

## HttpServletResponse는 Java의 인터페이스다

```kotlin
public interface HttpServletResponse extends ServletResponse {
    void setStatus(int sc);
    int getStatus();
}
```

즉,
- Kotlin이 이걸 가져올 때 자동으로 프로퍼티처럼 보이게 변환해주는 것
- `getStatus()` → `response.status`
- `setStatus(int)` → `response.status = 200`

그래서 Kotlin 코드에서는 <br>
`response.status = 200`
<br>

라고 써도 내부적으로는 Java의<br>
`response.setStatus(200)`<br>
이 호출되는 거임!!

# Kotlin이 Java 프로퍼티를 자동으로 “property style”로 매핑해줌

| Java 메서드 | Kotlin에서 보이는 형태 |
|----|----|
|getStatus() | response.status |
|setStatus(int) | response.status = value |
| getWriter() | response.writer |
|setHeader(String, String) | response.setHeader(...) ← 오버로딩된 건 그대로 사용 |

