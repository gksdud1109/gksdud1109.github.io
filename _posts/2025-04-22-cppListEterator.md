---
title: "c++ List Eteratorì— ê´€í•œ ì§ˆë¬¸"
date: 2025-04-22 09:00:00 +0900
categories: [Algorithm]
tags: [cpp, programming]
---
# C++ std::listì˜ eraseì™€ iterator: ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  ë‘ ê°€ì§€ ì£¼ì˜ì 

C++ì—ì„œ `std::list`ë¥¼ ì‚¬ìš©í•  ë•Œ `erase()`ì™€ `iterator`ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ê²½ìš°, ì•„ë˜ ë‘ ê°€ì§€ ì‹¤ìˆ˜ë¡œ ì¸í•´ **ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘ ë˜ëŠ” í”„ë¡œê·¸ë¨ í¬ë˜ì‹œ**ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ìƒí™©ì„ ì§‘ì¤‘ì ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤:

1. `erase()` ì´í›„ ë¬´íš¨í™”ëœ iteratorë¥¼ ê³„ì† ì‚¬ìš©í•  ê²½ìš°  
2. ë§ˆì§€ë§‰ ìš”ì†Œ ì‚­ì œ í›„ `end()` iteratorë¥¼ ì—­ì°¸ì¡°í•˜ëŠ” ê²½ìš°

---

## 1ï¸âƒ£ erase ì´í›„ iteratorë¥¼ ê°±ì‹ í•˜ì§€ ì•Šê³  ì‚¬ìš©í•˜ë©´?

### ğŸ”» ë¬¸ì œ ì½”ë“œ

```cpp
list<int> L = {1, 2, 3};
auto it = next(L.begin(), 1); // it â†’ 2
L.erase(it);                 // 2 ì‚­ì œ
cout << *it << '\n';         // âŒ ë¯¸ì •ì˜ ë™ì‘(UB)!
```

### â— ì›ì¸

- `std::list::erase(it)`ëŠ” ì‚­ì œí•œ ë…¸ë“œ **ë‹¤ìŒ ìœ„ì¹˜ì˜ iterator**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜ ê¸°ì¡´ iteratorëŠ” ì‚­ì œë˜ì—ˆê¸° ë•Œë¬¸ì— ë¬´íš¨í™”(invalidated)ë©ë‹ˆë‹¤.
- ë¬´íš¨í™”ëœ iteratorë¥¼ ì—­ì°¸ì¡°í•˜ë©´ **ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ë™ì‘(undefined behavior)** ë°œìƒ

### âœ… í•´ê²° ë°©ë²•

```cpp
auto it = next(L.begin(), 1); // it â†’ 2
it = L.erase(it);             // 2 ì‚­ì œ â†’ it â†’ 3
if (it != L.end()) {
  cout << *it << '\n';        // ì•ˆì „í•˜ê²Œ ì¶œë ¥
}
```

---

## 2ï¸âƒ£ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ eraseí•˜ë©´ ë°˜í™˜ iteratorëŠ” end()

### ğŸ”» ë¬¸ì œ ì½”ë“œ

```cpp
list<int> L = {10, 6, 1, 2, 5};
auto t = next(L.begin(), 4);  // t â†’ 5

// ë§ˆì§€ë§‰ ìš”ì†Œ ì‚­ì œ
t = L.erase(t);               // t â†’ L.end()
cout << *t << '\n';           // âŒ end() iterator ì—­ì°¸ì¡° â†’ UB
```

### â— ì›ì¸

- ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ `erase()`í•˜ë©´, ë°˜í™˜ê°’ì€ `list.end()`ê°€ ë©ë‹ˆë‹¤.
- `end()`ëŠ” ì‹¤ì œ ìš”ì†Œê°€ ì•„ë‹Œ, ë¦¬ìŠ¤íŠ¸ì˜ ì¢…ë£Œ ì§€ì ì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ **ì—­ì°¸ì¡° ë¶ˆê°€**ì…ë‹ˆë‹¤.

### âœ… í•´ê²° ë°©ë²•

```cpp
auto t = next(L.begin(), 4);  // t â†’ 5
t = L.erase(t);               // 5 ì‚­ì œ â†’ t == L.end()

if (t != L.end()) {
  cout << *t << '\n';
} else {
  cout << "ë” ì´ìƒ ì›ì†Œê°€ ì—†ìŠµë‹ˆë‹¤." << '\n';
}
```

---

## ğŸ’¡ ì „ì²´ ì‹¤ìŠµ ì˜ˆì œ

```cpp
#include <bits/stdc++.h>
using namespace std;

int main(void)
{
  list<int> L = {1, 2};
  list<int>::iterator t = L.begin(); // t â†’ 1

  L.push_front(10);                 // 10 1 2
  cout << *t << '\n';               // 1
  L.push_back(5);                   // 10 1 2 5
  L.insert(t, 6);                   // 10 6 1 2 5

  t++;                              // t â†’ 2
  t++;                              // t â†’ 5
  t = L.erase(t);                   // 5 ì‚­ì œ â†’ t == end()

  if (t != L.end())
    cout << *t << '\n';
  else
    cout << "ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ì‚­ì œí–ˆìŠµë‹ˆë‹¤." << '\n';

  for (int i : L)
    cout << i << ' ';
  cout << '\n';
}
```

---

## âœ… ì •ë¦¬

| ìƒí™© | ì˜ëª»ëœ ì˜ˆì‹œ | ì•ˆì „í•œ ì˜ˆì‹œ |
|------|-------------|-------------|
| erase í›„ iterator ì‚¬ìš© | `erase(it); *it;` | `it = erase(it); *it;` |
| ë§ˆì§€ë§‰ ìš”ì†Œ ì‚­ì œ í›„ | `erase(last); *it;` | `if (it != end()) *it;` |


**í•­ìƒ erase í›„ iteratorë¥¼ ê°±ì‹ í•˜ê³ , end() ì²´í¬ë¥¼ ìŠµê´€í™”í•˜ì„¸ìš”!**
ì´ê²ƒë§Œ ì§€ì¼œë„ listì™€ ê´€ë ¨ëœ ë²„ê·¸ ëŒ€ë¶€ë¶„ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ’¡